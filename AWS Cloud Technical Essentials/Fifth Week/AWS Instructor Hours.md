![[index (1).mp4]]
 [Raf] Muito bem, e aqui estamos no "Instructor's Office Hours" para o AWS Cloud Technical Essentials em plataformas de treinamento digital. Meu nome é Rafael Lopes e trabalho com Morgan Willis, que está mudo agora que posso ver o pequeno ícone ali, então vamos lá. Olá, Morgan. Bom dia. - [Morgan] Olá, bom dia. Muito obrigado. Então, olá, meu nome é Morgan Willis. Também sou tecnólogo sênior de nuvem na equipe de DTP, fazendo cursos digitais para todos os senhores aprenderem mais sobre a AWS em sites como edX, Coursera e Udemy. Então, sim, hoje, estamos aqui para o "Instructor Office Hours" para um curso específico chamado o curso AWS Cloud Technical Essentials. Essencialmente, este será apenas um local onde poderemos conversar e aprender e, com sorte, responder a algumas das perguntas dos senhores. Temos algumas perguntas que retiramos dos fóruns de discussão e que gostaríamos de abordar, mas esta deve ser uma sessão interativa, portanto, não pensem nisso como um webinar. Queremos que os senhores utilizem o bate-papo do Twitch e ficaremos de olho nesse bate-papo. E então, Raf, por que o senhor não vai em frente e apresenta nossos moderadores também? - [Raf] Sim, temos moderadores [Raf] Sim, temos moderadores aqui na sala de bate-papo. Então, por favor, moderadores, digam oi para os nossos convidados. Temos Alan, Alana, Morgan e Jon moderando o bate-papo. Eles ficarão de olho, eles continuarão postando links de coisas que mostramos aqui. E também temos intérpretes de ASL, intérpretes de linguagem americana de sinais. Então, temos Whitney aqui na tela fazendo a linguagem de sinais também. E ele vai alternar com Danny, o outro intérprete de ASL. Isso é muito bem-vindo e muito obrigado. Então, vamos ver, de onde o senhor está falando? Pode postar no chat. Então, NotAWebinar. O objetivo é que seja interativo. Então, queremos ver a interação dos senhores de volta no chat para conversar conosco. Vejo que há pessoas do Texas no chat. "Sunrise east of Seattle." Isso é muito bom. Dallas, Texas, isso é- - [Morgan] Estou participando do estado de Massachusetts aqui nos EUA. Temos alguém da Índia também, da Virgínia também. - [Raf] Bangladesh, super legal. Nova York, olá. Então, "Greetings from Colombia." - Incrível. - De onde o senhor é da Colômbia? O senhor está em Medellin, Bogotá? São as duas únicas cidades que conheço. Oeste de Nova York, muito obrigado. Então, Jon provavelmente está no Canadá, comendo xarope de bordo. A essa altura, acho que ele bebe xarope de bordo. - [Morgan] Sim, eu ia dizer que acho que ele não come. Ele bebe xarope de bordo, então o senhor sabe, é um pouco diferente. - [Raf] Legal, muito legal. Tudo bem... - [Morgan] Tudo bem. Então, eu só queria falar rapidamente sobre o motivo de estarmos aqui hoje. Estamos aqui para o "Instructor Office Hours". Então, esse curso que lançamos, o curso Cloud Technicial Essentials, é para as pessoas que estão inscritas no curso ou talvez interessadas no curso, mas especialmente para as pessoas que estão inscritas no curso. Então, para que todos se acostumem a usar o bate-papo, vou compartilhar minha tela e vamos fazer uma enquete rápida. Quero ver quantas pessoas que se juntaram a nós estão atualmente inscritas no curso AWS Cloud Technical Essentials. Então, a maneira de interagir com isso é digitar um para sim, vocês estão inscritos, ou dois para não. E não se preocupe se não estiver inscrito, o senhor ainda pode ficar por aqui e aprender. Vamos abordar todos os tipos de tópicos diferentes hoje. Então, na maioria das vezes, vamos responder às suas perguntas. Então, estou pensando nisso como se as suas perguntas no bate-papo fossem as primeiras a chegar, primeiro a ser servido. E também temos algumas perguntas que retiramos dos fóruns de discussão para responder a alguns problemas comuns. Então, a nuvem, desculpe, preciso ativar as porcentagens aqui para que possamos vê-la. Lá vamos nós. Então, o curso Cloud Technicial Essentials abrange os fundamentos da AWS, começando com o que é a AWS, a infraestrutura global, depois passamos por EC2 e rede, depois armazenamento e bancos de dados. E, por fim, terminamos com a escalabilidade usando o EC2 Auto Scaling e o Elastic Load Balancing e o CloudWatch. E, ao longo do curso, há laboratórios, e vimos muitas pessoas ficarem presas nos laboratórios, por não conseguirem acessar a instância do EC2, ou por não entenderem bem um determinado conceito. Portanto, o que estamos planejando fazer aqui é responder a algumas dessas perguntas. Assim, podemos ver que temos 42% no momento que estão matriculados no curso e 57 que não estão. Portanto, para aqueles que estão no curso, bem, provavelmente me reconhecem porque sou um dos instrutores do curso. Raf não é um dos instrutores do curso, mas faz parte da nossa equipe. E a Alana, que é a outra instrutora do curso, está no bate-papo agora como laytalan. Então, se os senhores virem isso no bate-papo, é a Alana. Então, sim, o que queremos fazer agora é começar a responder às perguntas dos senhores. Então, novamente, se os senhores não estiverem inscritos no curso, talvez devam dar uma olhada. Os senhores podem se inscrever no Coursera ou no edX. Então, os moderadores, se puderem, vejo que a Molly já postou no bate-papo os links para os cursos. Então, se o senhor estiver interessado em aprender mais sobre a AWS e quiser começar como um iniciante , mas voltado para o público técnico, pode fazer isso entrando e se inscrevendo no curso Cloud Technicial Essentials. - [] Sim, e esse curso tem mais de um ano de duração Sim, e esse curso tem sete laboratórios. Portanto, o primeiro laboratório fala sobre a criação de uma conta da AWS para seguir as instruções. O segundo cria uma função IAM. O terceiro cria uma instância EC2. O quarto faz toda a estrutura de rede. O quinto laboratório fala sobre armazenamento. Este sexto exercício fala sobre bancos de dados. Podemos chamá-los de exercícios ou laboratórios. São apenas as instruções passo a passo que fornecemos aos senhores para proporcionar alguma experiência prática. O último laboratório, o sétimo laboratório, fala sobre Elastic Load Balancing. Assim, ele constrói a arquitetura que Morgan está mostrando em sua tela. E o que acontece é que todos esses laboratórios são independentes, pois os projetamos de forma que o usuário possa interromper tudo depois de fazer o laboratório porque pode fazer o laboratório no seu próprio tempo. Assim, o usuário pode fazer um laboratório hoje e outro na próxima semana. Portanto, não queremos que os recursos sejam cobrados na sua conta. E essa instância do EC2 é algo que o senhor constrói e desmonta a cada laboratório. Portanto, se ficar preso na criação dessa instância, isso pode dificultar um pouco a experiência do laboratório como um todo. Assim, descobrimos as perguntas mais frequentes, o senhor gosta disso, Morgan, as mais frequentes, como se fossem muito frequentes. - [Morgan] Muito frequentes. - - [Raf] As perguntas mais frequentes nos fóruns, e, de longe, a maior delas é: "Não consigo me conectar à minha instância do EC2, por quê?" Então, preparamos e eu vou mostrar algumas dicas de solução de problemas para essas etapas específicas do laboratório e algumas coisas que podem estar impedindo que você se conecte à instância, para evitar que isso aconteça. Assim que resolver isso, você poderá iniciar a instância do EC2 e prosseguir com todos os laboratórios. Além disso, não deixe que nenhuma etapa de exercício, nenhum laboratório o impeça de fazer o curso porque você pode concluir tudo, assistir a todos os vídeos, ler todas as leituras e fazer todos os testes, e deixar os laboratórios para o final, certo? Portanto, não deixe o laboratório, se o senhor ficar preso em uma etapa do laboratório, pode continuar no curso. A primeira pergunta, muito comum, é: "Não consigo me conectar à minha instância do EC2, por quê?" E deixe-me compartilhar minha tela aqui para mostrar as instruções do exercício, como elas são. Este é o primeiro exercício em que os senhores terão contato com a instância do EC2. É o exercício em que os senhores aplicarão o recurso de computação. Nesse caso, uma instância do EC2. No laboratório anterior, pedimos que o senhor crie uma função do IAM. E essa função do IAM é a S3DynamoDBFullAccessRole, certo? Portanto, essa função já estará criada, muito fácil. Vá para o IAM, crie a função e tudo mais. Em seguida, você iniciará uma instância do EC2 e colocará os dados do usuário nessa instância. Vou dizer o que esses comandos fazem e algumas coisas, deixe-me aumentar um pouco o tamanho da fonte aqui, e algumas coisas que você pode ficar preso se não fizer isso corretamente. Portanto, as primeiras instruções do laboratório pedem que você crie uma instância do EC2 usando a AMI do Amazon Linux, Amazon Linux 2 com o tipo de instância t2.micro size instance type, certo, que terá uma CPU virtual e um gigabyte de memória. Em seguida, Network, escolha a sub-rede padrão. Todas as contas da AWS vêm com as sub-redes completas que têm um gateway de Internet, anexe-o à VPC. Ele pertence ao Auto-assign Public IP, Enable. Em seguida, você escolherá a função que criou no laboratório anterior. Então, se o senhor for ao AWS Management Console e clicar aqui em Launch instance, nesse botão aqui, Launch instances, , verá esse assistente de criação de instância onde a primeira coisa que precisará especificar é a AMI, a Amazon Machine Image. Não confunda com IAM, Identity Access Management. Aqui, estamos especificando a AMI. Mesmas letras, ordem diferente. AMI, Amazon Machine Image, o senhor vai escolher o Amazon Linux, certo? Então é isso que o laboratório pede. Depois, o senhor vai escolher t2.micro. Ele já está pré-selecionado para mim. Então, basta clicar em review, desculpe, basta clicar em Configure Instance Details aqui,
Reproduza o vídeo começando em :9:41 e siga a transcrição9:41
Configure Instance Details. E é aqui que vou especificar qual é a sub-rede, que posso deixar intocada porque ele já escolhe a sub-rede padrão para mim. A função IAM, escolherei a função IAM que foi criada, que é esta aqui, certo? Então, para isso- - [Morgan] Ei, Raf. Ei, Raf, posso interromper o senhor rapidinho? O senhor pode explicar o VPC padrão? Porque acho que o que tenho visto nos fóruns de discussão e ouvido dos alunos é que eles não conseguem se conectar à instância depois de iniciá-la. Portanto, se você não estiver selecionando o VPC padrão, talvez não esteja obtendo algumas das configurações iniciais que facilitam o acesso público a uma instância. Então, o senhor pode descrever rapidamente o que é o VPC padrão? - [Raf] Sim, cada novo VPC é criado [Raf] Sim, toda nova conta da AWS ou toda conta vem com um VPC padrão, Virtual Private Cloud. Então, esse VPC é o que faz os arranjos de rede e os locais de rede para suas instâncias do EC2. Todo VPC vem com, não todo VPC, o VPC que vem com sua conta vem com sub-redes padrão, certo, e um gateway de Internet anexado a ele. E essas sub-redes, como sub-rede, sub-rede, essas sub-redes, são públicas porque têm uma rota para esse gateway da Internet. Portanto, se o senhor colocar uma instância do EC2 dentro dela, essa instância do EC2 saberá como chegar ao gateway para acessar a Internet. Portanto, se os usuários se conectarem ao endereço IP público das instâncias, o senhor usará essa conectividade. Portanto, a VPC padrão, que é a que está indicada aqui,
Reproduza o vídeo começando em :11:17 e siga a transcrição11:17
a rede padrão que faz parte da VPC padrão já vem com essa configuração de roteamento pré-construída, certo? Portanto, escolha a rede padrão e, em seguida, se habilitar a atribuição automática de IP público, que é algo que as instruções pedem para fazer aqui nesta Etapa 6, você terá esse acesso. Você terá essa rota já criada. Então, o senhor escolhe a função IAM. Falaremos sobre funções IAM, usuários, e grupos daqui a pouco. Essa função deve ter sido criada anteriormente no laboratório anterior. E aqui estão os dados do usuário, é aqui que o senhor coloca esses comandos. Então, o senhor deve copiá-los e colá-los aqui. Agora, alguns aspectos importantes aqui. Ao colá-lo aqui, , as instruções pedirão que você substitua e insira a região da AWS que estava usando bem aqui. Deixe-me ver se consigo aumentar o zoom para tornar isso maior, certo. Então, ele pedirá que você insira a região da AWS aqui. O que você deve fazer é isso, certo? O senhor deve digitar o nome da API da região a que se refere. O senhor não deve digitar algo assim, certo? O senhor deve digitar isto, , que é o nome da API para a região em questão. Portanto, se estiver na Califórnia e quiser usar a região us-west-2 ou us-west-1. Se estiver na Ásia-Pacífico, o senhor pode usar ap-northeast-1. Então, se o senhor vir na documentação da AWS, há uma lista dos nomes da API da região e sua localização física correspondente. Então, também é importante não ter espaços aqui entre este igual e este igual, certo? Então, o senhor deve apenas substituir este
Reproduza o vídeo começando em :13:5 e siga a transcrição13:05
pelo nome da API da região, certo? - [Morgan] Ok, então eu vou dizer ao senhor que o nome da API da região é o mesmo que o nome da região [Morgan] Ok, e vou interromper por um segundo aqui também. Então, isso é, sabe, muito importante sempre que o senhor estiver fazendo o laboratório. Então, só para dar um pouco de contexto, percebi que não dei isso para quem não estava no curso. Temos esse aplicativo chamado o aplicativo Employee Directory, e é essencialmente apenas um aplicativo de amostra que é escrito em Python usando Flask. Portanto, esse script de dados do usuário é um script em lote que, sempre que a instância do EC2 for inicializada pela primeira vez, será executado e baixará o código público como o Raf está destacando agora, a linha que está baixando o código de um repositório público e, em seguida, descompacta-o e instala algumas dependências diferentes que esse código terá de executar, e, em seguida, define algumas variáveis de ambiente como o nome da tabela DynamoDB, o bucket para S3, coisas desse tipo e a região. E, em seguida, ele prossegue e inicia o código. Portanto, esse é um script bash, que, como sabem, é essencialmente um código. Portanto, é preciso ter muito cuidado com caracteres extras. É como qualquer linguagem de programação, certo? Se houver um caractere a mais em algum lugar, ele pode quebrar tudo. Portanto, sempre que estiver trabalhando com o EC2, se o script de dados do usuário não for executado corretamente, isso pode não ser totalmente óbvio de imediato. Por exemplo, o senhor tentará acessar a instância do EC2 e ela simplesmente não carregará. Isso ocorre porque o servidor da Web Flask não está sendo executado porque o script não foi executado corretamente. Portanto, é importante certificar-se de que está ciente de que isso precisa ser, sabe, essencialmente, entre aspas, sem aspas, perfeito, pois não há nenhum caractere extra que possa interromper a execução do script. - [Raf] Exatamente [Raf] Exatamente, e às vezes é mais difícil perceber porque a instância inicializará normalmente. É apenas algo que está sendo executado dentro da instância que não está funcionando corretamente, certo? Assim, a instância do EC2 aparecerá como em execução, mas o que quer que esteja sendo executado nessa instância do EC2 pode ser interrompido por causa de um caractere ausente aqui. E há uma coisa interessante aqui que é esse pacote do aplicativo Stress que está instalado. Yum é o gerenciador de pacotes do Linux e estamos instalando um aplicativo chamado Stress nessa instância do EC2. Então, Morgan, deixe-me carregar sua tela com o diagrama e o senhor pode dizer um pouco mais o que o pacote Stress está fazendo dentro dessa instância do EC2? - [Morgan] Claro, então isso é o que está acontecendo na instância do EC2? [Morgan] Claro, essa é uma captura de tela da arquitetura que desenvolvemos ao longo do curso. Neste momento, o Raf está mostrando ao senhor o lançamento de uma instância do EC2, e ele a está lançando no VPC padrão. Mas, no curso, criamos uma VPC personalizada, e, em seguida, lançamos nossa instância do EC2 nela, adicionamos o banco de dados no backend, que, no curso, acabamos usando o DynamoDB. Mas, depois disso, dizemos: "Ok, isso é ótimo, certo? Tenho uma instância do EC2, mas e se eu tiver, você sabe, muitos usuários que sobrecarregariam essa instância, certo?" Como uma instância do EC2 não é escalonada automaticamente para cima e para baixo, é preciso implementar mecanismos de escalonamento. Então, o que fizemos foi incorporar isso ao aplicativo. Usamos esse pacote Stress que tem uma página da Web sob o aplicativo Employee Directory, na qual é possível clicar em um botão que sobrecarrega o aplicativo e, assim, é possível simular que muitos usuários inundam o aplicativo ou que a popularidade do aplicativo está aumentando. Assim, o que isso permite fazer é observar a utilização da CPU nessa instância aumentar durante um determinado período de tempo. Portanto, sempre que tiver uma instância, não queremos que ela diminua, pois queremos ser escaláveis. Então, em vez disso, o que fazemos é lançar instâncias em várias zonas de disponibilidade. Então, nesse caso, temos duas em zonas de disponibilidade e, para fazer o autoescalonamento, você coloca um Elastic Load Balancer. E, nesse caso, acabamos usando um ALB. Então, eu estava bem em cima disso, um balanceador de carga de aplicativos. E o senhor também está usando os alarmes do CloudWatch. Assim, o balanceador de carga encaminha o tráfego para as instâncias EC2 de backend, e, em seguida, podemos simular o estresse usando o pacote Stress, e, em seguida, podemos observar o alarme do CloudWatch disparar e, em seguida, ele lançará uma nova instância EC2, e, em seguida, podemos observar essa inicialização, e, em seguida, o senhor verá a utilização da CPU cair após um determinado período de tempo. Então, é isso que o pacote Stress é. - [Raf] Exatamente, então o senhor pode ver o que o pacote Stress faz [Raf] Exatamente, então é por isso que temos esse pacote instalado na instância. O senhor iniciará essa instância como parte deste laboratório, e, após o laboratório, encerrará a instância. No próximo laboratório, o senhor iniciará novamente, e os dados do usuário permanecerão praticamente os mesmos com a diferença de que, no próximo laboratório, o senhor criará um bucket S3 e colocará o nome do bucket aqui. Então, vamos continuar e adicionar armazenamento à nossa instância. Um volume raiz de oito gigabytes é suficiente. Podemos adicionar tags a essa instância. E a instrução pede que o senhor adicione uma tag com o nome da chave e o valor,
Reproduza o vídeo começando em :18:6 e siga a transcrição18:06
vejamos aqui, este é o valor, o employee-directory-app. Então, vou copiar isso daqui, certo? Portanto, employee-directory-app será o nome da minha instância do EC2. E no Grupo de segurança, pede que o senhor use um Grupo de segurança que tenha a porta 80 aberta. Então, clicarei aqui, escolherei Anywhere e permitirei a porta 80, que é a porta HTTP porque esse será um servidor Web público com o aplicativo Employee Directory em execução no aplicativo Flask. O senhor desejará atender à porta 80. Não estamos conectando certificados SSL, não estamos instalando certificados SSL por enquanto. Se estivéssemos, abriríamos a porta 443, certo? Mas, por enquanto, estamos trabalhando apenas com a porta 80 para esse aplicativo, e o grupo de segurança é uma camada de firewall que envolve a instância. Portanto, o senhor precisa abrir a porta do grupo de segurança
Reproduza o vídeo começando em :19:2 e siga a transcrição19:02
para permitir o tráfego de entrada. Quando tudo estiver pronto aqui, de acordo com as instruções, você clicará em Review and Launch (Revisar e iniciar), e, em seguida, rolará para baixo até esta página. Você revisará tudo, portas abertas, AMI correta, dados de usuário corretos e, em seguida, clicará em Launch (Iniciar), e terá a opção de escolher um par de chaves para se conectar à instância caso precise solucionar algum problema. Isso não é necessário para este laboratório específico porque tudo deve funcionar imediatamente e o senhor não precisará se conectar à instância do EC2 para solucionar problemas, se tudo der certo. No meu caso, adicionarei um par de chaves porque vou querer fazer login nessa instância para mostrar algo ao falar sobre as funções do IAM. Então, clique em Launch Instance (Iniciar instância), e, depois de clicar em Launch Instance (Iniciar instância), as instruções pedem que você verifique se a instância passa na verificação de status. E, assim que ela passar na verificação de status, você pega o endereço IPv4 público da instância e tenta acessá-lo. Então, vamos fazer isso, certo? Vamos clicar em View Instances. Nossa instância está sendo criada, deixe-me abrir mais espaço aqui, employee-directory-app, que é essa instância aqui, as instruções pedirão que o senhor vá nesse painel inferior aqui e copie o endereço IPv4 público, certo? E abra uma nova guia e cole, e talvez não funcione. Por que talvez não funcione? Pode não funcionar porque, vamos ver se eles vêm com algo no bate-papo para sugerir por que essa instância não está funcionando, por que meu Google Chrome ainda não conseguiu acessar essa página. - [Morgan] Certo- - [Raf] O maior, sim, vá em frente. - [Morgan] Eu ia dizer, preste muita atenção na barra de endereços. Certo, então alguém tem alguma ideia de por que isso não se conecta? Hmm, essa é mais uma parte da solução de problemas. - [Raf] Acho que escolhi uma instância t2.micro que tem apenas uma CPU e um gigabyte de memória, e dei várias instruções a essa instância, certo? Então, talvez a instância ainda esteja fazendo isso, certo? - [Morgan] Sim, certo. - [Raf] Talvez a instância ainda esteja obtendo o arquivo zip e compactando o aplicativo, instalando o MySQL, instalando o Python 3, instalando todos os requisitos para o aplicativo, instalando as coisas. - [Morgan] Sim [Morgan] Sim. - [Raf] Então, ele ainda está sendo preparado, certo? E é por isso que, quando o senhor vai até aqui, ele ainda não está pronto, mas há um problema aqui. Seu navegador pode armazenar em cache localmente essa falha, certo? E o senhor pode tentar atualizar essa página e ainda ver o erro porque ele foi armazenado em cache. E, na verdade, isso aconteceu comigo ontem quando eu estava fazendo o laboratório para preparar essa demonstração para os senhores. Ela foi armazenada em cache e, por isso, não consegui me conectar. Então, um truque que eu lhe dei é copiar a barra de endereço e abrir uma janela anônima ou uma janela privada no seu navegador ou escolher outro navegador, ou abrir a partir do seu celular, conectá-lo a uma rede diferente. E então o senhor deve ver isso. Esse é um resultado que mostra que o senhor seguiu corretamente as instruções para criar e iniciar a instância do EC2. Certo? - [Morgan] Certo, então temos algumas pessoas sintonizando o bate-papo aqui também. Então, há algumas coisas diferentes. Uma das coisas que podem ter acontecido é que o grupo de segurança não permitiu, certo? Então, nesse caso específico, a resposta foi que a inicialização não foi concluída, portanto, não foi feito o download de tudo. Mas outra resposta pode ser talvez o senhor não tenha configurado o grupo de segurança corretamente. Essa pode ser uma resposta em potencial. Outra é se o senhor se esqueceu de atribuir automaticamente um endereço IP público, sempre que uma instância do EC2 é iniciada, a menos que você atribua automaticamente um endereço IP público, ela terá apenas um IP privado e, nesse caso, não será possível acessá-la, portanto, essa pode ser outra resposta. Mas também temos algumas outras ideias postadas no bate-papo. Portanto, ainda pode ser o bootstrapping, que foi o problema nesse caso. E um problema secundário é que, se o senhor tentar acessá-lo enquanto ele estiver em bootstrapping e continuar atualizando a página, como o Raf acabou de mencionar, ele pode estar armazenando isso em cache. Portanto, certifique-se de limpar o cache. E, além disso, o senhor pode ter uma ACL de rede. Portanto, temos grupos de segurança que são firewalls em nível de instância, mas também temos ACLs de rede, que são firewalls em nível de sub-rede. Portanto, ambas as coisas precisam estar em vigor para que o senhor possa se conectar e estabelecer essa conexão com a instância do EC2. Outra coisa também é que talvez seja a sua tabela de rotas. Portanto, nesse caso, estamos usando o VPC padrão. Mas se o senhor estiver usando seu próprio VPC, é possível que não tenha anexado o gateway da Internet corretamente, é possível que a tabela de rotas não esteja configurada corretamente. Portanto, eu me certificaria de verificar todas essas coisas de rede antes de desistir, certo? E outra coisa também é essa ideia de HTTP versus HTTPS. É para isso que o Raf está apontando agora. Então, vou deixar que o senhor fale sobre isso. - [Raf] Sim, então, para conveniência, o senhor pode usar o HTTPS [Raf] Sim, então, por conveniência, o AWS Management Console permite que o senhor clique em abrir endereço, e então ele obtém esse endereço IP e vai para o seu navegador e o abre em uma nova aba por conveniência. Mas o problema é que ele abre HTTPS. Portanto, se o senhor clicar aqui em open address, , ele tentará carregar https:// e, em seguida, o endereço IP, , e não temos certificados SSL na instância, certo? Portanto, as instruções são claras quanto a isso, , como não clicar, copiar o endereço IP, , ir para uma nova guia e abri-lo, porque é isso que acontece. Quando o senhor clica aqui, ele carrega o HTTPS, certo?
Reproduza o vídeo começando em :24:18 e siga a transcrição24:18
Para onde esse link aponta é um HTTPS, certo? Portanto, talvez o senhor também não consiga se conectar por causa disso. E também, se estiver usando um laptop corporativo, se estiver em uma rede VPN corporativa, às vezes, as solicitações HTTP para endereços IP desconhecidos podem ser bloqueadas pelo firewall. Portanto, certifique-se de que não esteja conectado a nenhuma VPN ao fazer isso, certo? Isso acontece principalmente quando o senhor tenta se conectar por SSH às instâncias ou à área de trabalho remota. HTTP é menos comum, certo? Mas pode acontecer. Já vimos isso acontecer algumas vezes. Eu e Morgan éramos instrutores técnicos ministrando treinamento em laboratório instrucional. Portanto, tínhamos muito acesso próximo aos alunos fazendo laboratórios e observando esses laboratórios, e a maioria das redes corporativas, como SSH e acesso à área de trabalho remota, não estava acontecendo. - - [Morgan] Sim, eles não estão fazendo isso [Morgan] Sim, eles não gostam disso.
Reproduza o vídeo começando em :25:13 e siga a transcrição25:13
Portanto, com esse laboratório também, se quiser ter certeza de que está passando por todas as coisas sobre as quais acabamos de falar para solucionar problemas, mas lembre-se também de que, digamos que você tenha bagunçado os dados do usuário e, em seguida, interrompido a instância e reiniciado, algo em que muitas pessoas não pensam é o fato de que os dados do usuário, por padrão, são configurados para serem executados somente na inicialização. Portanto, não no início, mas na inicialização. Isso significa que, se eu reiniciar minha instância, os dados do usuário não serão executados novamente. Portanto, se você tiver um problema com os dados do usuário e depois tentar corrigi-lo, eles poderão não ser executados novamente. Portanto, você pode alterar sua, oh geez. Desculpe, tive uma reunião ali. O senhor pode alterar os dados do usuário para que sejam executados a cada inicialização O senhor pode alterar os dados do usuário para que sejam executados a cada inicialização ou pode sempre encerrar a instância e começar de novo com uma nova. E para esse laboratório em particular, isso é apenas uma prova de conceito. Portanto, observe que não estamos usando HTTPS, estamos usando o VPC padrão, o banco de dados não está configurado, nossas permissões provavelmente estão um pouco soltas demais, e tudo isso é para tentar facilitar a instalação e a execução. Portanto, não é recomendável fazer isso exatamente da mesma forma na produção, pois é recomendável garantir que você tenha coisas como certificados para HTTPS e coisas assim. - [Raf] Sim, foi uma boa ideia [Raf] Sim, houve uma pergunta aqui no bate-papo: "As instâncias do Lightsail também fazem parte da VPC padrão?" A propósito, obrigado pela sua pergunta. "Ou isso é só para instâncias do EC2? Eu uso o Lightsail porque é mais barato." Então, o Lightsail não faz parte de uma VPC que o senhor escolhe. Então, o Lightsail não faz parte de uma VPC que o senhor escolhe. Por ser um serviço totalmente gerenciado, faz parte de outra VPC, mas é uma VPC. E há um recurso chamado peering de VPC em que, quando o senhor tem uma VPC e outra VPC, adivinhe o que o peering de VPC faz? Ele ajuda a conectar essas duas VPCs. Portanto, se o senhor já tiver outra VPC com sub-redes privadas, com bancos de dados, com outros recursos de VPC, como um cluster Redshift, um cluster EMR, e quiser que sua instância do Lightsail acesse isso, a maneira de fazer isso, de acordo com essa página de perguntas frequentes, é fazendo peering de VPC, certo? Espero que isso responda à sua pergunta sobre o Lightsail e as VPCs padrão. Ele não faz parte de uma VPC padrão em sua conta. Ele faz parte da VPC do Lightsail, mas o senhor pode fazer um peering de VPC para se conectar às suas VPCs, e é muito fácil configurar um peering de VPC. O senhor só precisa dos dois IDs de VPC, vai ao console da VPC, create peering, especifica o ID da VPC um, , especifica o ID da VPC dois, , e ele cria uma solicitação de peering, , o senhor aceita essa solicitação de peering, , e então é só rotear as tabelas. Então, por que não abrimos uma enquete, Morgan? Uh-huh, vá em frente. - [Morgan] Antes de fazermos isso, tenho mais uma pergunta sobre certificação. Então, é uma pessoa que já concluiu o curso básico. Ótimo trabalho. E ela queria saber se poderíamos falar sobre a diferença entre Arquiteto de Soluções e SysOps. Então, eu só queria abrir rapidamente a página de certificação. O Curso de Arquiteto de Soluções ou a Certificação de Arquiteto de Soluções vai validar sua capacidade de projetar e implementar sistemas distribuídos. Portanto, é definitivamente como em uma escala maior, digamos que o senhor tenha um caso de uso específico para o qual precisa projetar um sistema, talvez esteja solucionando problemas de um sistema ou redesenhando um sistema para ser mais otimizado. É mais sobre esse aspecto das coisas, ao passo que o lado do administrador de SysOps será mais detalhado, na verdade, como fazer o trabalho, ou seja, como o senhor pode implantar, gerenciar e operar na AWS, certo? Portanto, é um pouco mais detalhado. Há uma diferença entre as duas certificações. Então, pessoalmente, eu diria que o curso Cloud Technicial Essentials está mais alinhado com o Solutions Architect. No entanto, ele também pode ser uma base para você começar a se aprofundar nos estudos para o SysOps Administrator. Portanto, esse curso Cloud Technicial Essentials foi projetado especificamente para ser um pouco vago no sentido da aplicação. Você pode fazer esse curso e depois se aprofundar em Developer, SysOps ou Solution Architect. Então, eu só queria abordar essa questão aqui. - [Raf] Sim, deixe-me explicar [Raf] Sim, e deixe-me mostrar a onde eles podem encontrar os outros cursos on-line que temos. Esta página contém os cursos que oferecemos e as plataformas, e o senhor pode clicar aqui nas plataformas e será direcionado para o curso naquela plataforma. Temos o curso Data Analytics, o curso Dloud Fundamentals, o curso Developer, Machine Learning, Migration and Transfer. Então, é disso que estamos falando, do curso que estamos falando aqui o Cloud Technicial Essentials é um deles, certo? Então, por que não abrimos uma enquete? Deixe-me colocar sua tela aqui. - [Morgan] Sim, claro. - - [Raf] E há uma enquete sobre o curso, mas o senhor não sabe o que está acontecendo [Raf] E há uma enquete na qual o público pode interagir conosco. "A network ACL filter-" - [Morgan] Oh, espere, na verdade, desculpe, eu queria mostrar outra. Esta. Ok, vamos a essa pergunta. Tudo bem, desculpe-me. "So what does an Amazon EC2 instance type indicate?" And so again, you could just type in the chat one two, three, four. Is an Amazon EC2 instance type indicate the instance AMI and networking speed, the instant tenancy and instance billing, instance placement and instance size, or instance family and instance size? <silence> <silence> - [Raf] Muito bom, sim [Raf] Muito bom, sim. - [Morgan] Parece bom. - [Raf] O bom dessas enquetes e é por isso que é interessante que os senhores participem, é que, se percebermos que a maioria das pessoas está respondendo errado, então clicamos duas vezes e exploramos mais disso, certo? Portanto, essa é uma boa medida de quão profundo devemos nos aprofundar em cada tópico que estamos apresentando aqui. Acho que estamos prontos para avançar para a próxima pergunta. - [Morgan] Sim, concordo. Isso é ótimo, então esta é a resposta correta, é a família e o tamanho da instância. Bom trabalho, todos que responderam a essa pergunta. A próxima pergunta que quero fazer é esta aqui. Então, "Qual das seguintes informações o senhor precisa para criar uma nuvem privada virtual ou VPC?" É a zona de disponibilidade em que ela residirá, a sub-rede em que residirá, o grupo de sub-redes em que residirá, ou a região da AWS em que residirá? <silence> <silence> <silence> - [Raf] O senhor pode digitar no campo "Availability Zone" (zona de disponibilidade) que o senhor vai encontrar? [Raf] Pode digitar no chat.
Reproduza o vídeo começando em :31:46 e siga a transcrição31:46
Vamos dar um tempo para que todos pensem.
Reproduza o vídeo começando em :31:52 e siga a transcrição31:52
"Quais das informações a seguir o senhor precisa para criar uma nuvem privada virtual?"
Reproduza o vídeo começando em :31:58 e siga a transcrição31:58
- [Morgan] Então, há algumas coisas que o senhor precisa saber para criar uma VPC. Vamos dar mais alguns segundos aqui. Deixe que todos respondam, especialmente porque esta é um pouco dividida, certo? Então, vamos deixar que todos deem seus palpites. Vou esperar até 60 segundos e depois encerrarei a pergunta.
Reproduza o vídeo começando em :32:13 e siga a transcrição32:13
Muito bem, três, dois, um, encerrando a pergunta aqui. Muito bem, então a resposta correta com 50% dos votos é a região da AWS em que ela residirá. Então, vou seguir em frente e fazer um pouco de um desenho aqui. Assim, sempre que o senhor criar uma VPC, digamos que tenha uma VPC aqui,
Reproduza o vídeo começando em :32:31 e siga a transcrição32:31
as VPCs residem em uma região da AWS. Então, vou desenhar a minha região aqui.
Reproduza o vídeo começando em :32:41 e siga a transcrição32:41
Assim, as VPCs residem em uma região e também podem se estender por quantas AZs existirem dentro dessa região. Então, digamos que esta seja a AZ1, 2 e 3. Assim, sempre que o senhor criar uma VPC, ela dará acesso, entre aspas, não entre aspas, a todas as zonas de disponibilidade dentro de uma região. Portanto, para criar a VPC, o senhor precisa saber em que região está criando essa VPC. Assim, as regiões não se estendem, quero dizer, desculpe, as VPCs não se estendem por regiões. Elas se estendem apenas por zonas de disponibilidade. Portanto, é preciso saber em que região se quer colocar essa VPC, e também é preciso saber o intervalo CIDR, que é o pedaço de endereço IP, qual é o tamanho do pedaço e quais números você quer para o seu espaço IP privado. Portanto, essas são as duas coisas que você precisa saber aqui sempre que estiver criando uma VPC. E isso é algo muito importante de entender quando se está trabalhando e operando na AWS porque os VPCs não abrangem automaticamente as regiões, o senhor precisa ser capaz de criar soluções para permitir a comunicação entre as regiões da AWS, entre os VPCs. É como o Raf estava falando sobre peering antes. Essa é uma das maneiras de criar conectividade entre regiões, enquanto a conectividade entre zonas de disponibilidade é muito mais fácil de facilitar porque uma VPC já está abrangendo todas as zonas de disponibilidade dentro dessa região. E uma das outras respostas que houve foi sobre as sub-redes. As sub-redes são colocadas dentro das zonas de disponibilidade. Portanto, elas estão vinculadas a uma AZ específica.
Reproduza o vídeo começando em :34:16 e siga a transcrição34:16
Portanto, não é preciso conhecer as sub-redes antes de criar a VPC porque uma sub-rede é, na verdade, um subconjunto dos endereços IP que você cria para essa VPC.
Reproduza o vídeo começando em :34:28 e siga a transcrição34:28
Ótimo, então queremos fazer mais enquetes aqui ou devemos passar para a próxima pergunta? O que achamos? - [Raf] Vamos fazer uma enquete aqui ou devemos passar para a próxima pergunta? [Raf] Vamos fazer mais uma enquete. - [Morgan] Ok, fantástico. Tudo bem, vamos fazer a enquete sobre ACL de rede , já que acabamos de falar sobre isso. Então, "ACL de rede filtra o tráfego no nível da instância do EC2", verdadeiro ou falso?
Reproduza o vídeo começando em :34:54 e siga a transcrição34:54
- [Raf] O senhor acha que o maior problema é a falta de acesso a um servidor de rede? [Raf] Acho que a maior pergunta dessa questão é network ACL versus security group. Qual serviço opera em qual escopo, certo? Então, é bom - [Morgan] Tudo bem, parece bom - [Raf] que temos 10 respostas falsas. Podemos seguir em frente, muito bem. Security groups opera no nível EC2. Network ACLs opera no nível VPC, que é tudo. - [Morgan] Tudo bem, [Morgan] Muito bem, já que todos acertaram essa, vamos em frente e fazer mais uma sobre esse tópico. Então, "O que o senhor deve fazer para permitir que os recursos em uma sub-rede pública se comuniquem com a Internet?" E selecione dois, e sempre que estiver passando por e selecionando dois, o senhor deve digitá-los. São duas entradas separadas no bate-papo, então digite um número, pressione Enter, e depois digite o segundo número e pressione Enter. E é assim que o senhor pode fazer com que ambos sejam contados.
Reproduza o vídeo começando em :35:46 e siga a transcrição35:46
- - [Raf] Acho que o senhor estava dando uma olhada no tópico [Raf] Acho que o senhor estava dando a resposta correta. - (risos) Eu terminei a pergunta em vez de começar, o erro foi meu. Tudo bem, então vou dizer ao senhor a resposta para essa. (risos de Raf) Mas sim, é engraçado. Então, as duas que têm as marcas de verificação verdes ao lado são a resposta, mas, primeiro, o senhor precisa anexar um gateway de Internet à sua VPC. Então, essa é a primeira coisa, certo? O gateway de Internet é a porta de entrada para a Internet para permitir que o tráfego flua para a sua VPC. Portanto, sem o gateway da Internet, não é possível permitir o tráfego, o que significa que não pode haver conectividade para a instância do EC2 em uma sub-rede pública. Mesmo que você diga que é uma sub-rede pública, você precisa desse gateway da Internet. E a segunda coisa que você precisa fazer é criar uma rota para o gateway da Internet a partir dessa sub-rede, e isso permite que o tráfego flua. - [Raf] Sim [Raf] Sim. - O senhor precisa criar uma rota para o gateway da Internet a partir dessa sub-rede e isso permite que o tráfego flua [Morgan] Tudo bem. - [Raf] Então, vamos trazer uma pergunta que era bastante comum no fórum,
Reproduza o vídeo começando em :36:38 e siga a transcrição36:38
que não era uma pergunta, mas presumo que seja uma pergunta. "Não consigo distinguir entre os usuários do IAM e as funções do IAM e os grupos do IAM e suas funcionalidades." Então, deixe-me carregar minha tela aqui agora e mostrar esse diagrama para os senhores e pegar minha caneta.
Reproduza o vídeo começando em :36:56 e siga a transcrição36:56
Portanto, um usuário de IAM é uma entidade de IAM, Entidade de gerenciamento de identidade e acesso, que permitirá que o senhor tenha uma conexão permanente com o console de gerenciamento do AWS ou com a interface de linha de comando do AWS. Se estiver usando o Console de gerenciamento, usará um nome de usuário e uma senha. Se for interagir programaticamente com o AWS a partir da linha de comando ou do código-fonte, precisará de um ID de chave de acesso em segredo. E um usuário permite que você tenha uma permanente, certo? O problema é que, quando você escreve um código, quando tem um aplicativo Flask, por exemplo, fazendo coisas no Amazon DB ou obtendo objetos do Amazon S3, você precisará de uma credencial para configurar esse aplicativo. Uma credencial IAM para configurar esse aplicativo, certo? E não é muito elegante e também não é muito seguro obter suas credenciais pessoais e colocá-las lá. Não se deve fazer isso, certo? Deve-se evitar obter suas credenciais pessoais e colocá-las no código. Então, o que devemos fazer? Algumas pessoas criam um usuário separado e chamam esse usuário de app, e obtêm as credenciais desse usuário para colocar no código. Bem, embora isso seja um pouco melhor do que obter suas credenciais pessoais e colocá-las lá, também não é recomendado porque o senhor também está colocando credenciais no código. Portanto, se alguém tiver acesso ao seu código-fonte, também terá acesso às credenciais que são usadas por esse código para fazer chamadas de API para seus serviços da AWS. A melhor prática para isso é criar o que chamamos de função IAM. Assim, depois de criar uma função IAM, você pode associar essa função a um serviço da AWS, como, por exemplo, o Amazon EC2. E, ao fazer isso, você declara quais são as permissões
Reproduza o vídeo começando em :38:41 e siga a transcrição38:41
dessa função, certo? E quem pode assumir essa função? Quem pode assumir essa função também é chamado de relação de confiança.
Reproduza o vídeo começando em :38:51 e siga a transcrição38:51
E relação. E a grande diferença entre uma função e um usuário permanente do IAM é que a função é um mecanismo que permite fornecer uma credencial temporária a quem quer que esteja autorizado a assumir essa função. Portanto, quando o senhor cria uma função do IAM, pode fazer com que a instância do EC2 vá em nome dessa função, certo, para acessar os recursos do AWS, e vou dar um exemplo. A instância do EC2 employee-directory-app que acabamos de criar, tem uma função porque, quando criamos a instância, anexamos a função IAM a ela, chamada S3DynamoDBFullAccessRole. Então, vamos nos conectar a essa instância usando o EC2 Instance Connect, que é uma maneira muito conveniente de ter o SSH diretamente do seu navegador. - [Morgan] Sim, se alguém quiser, pode se conectar com o EC2 Instance Connect [Morgan] Sim, se alguém não estiver familiarizado com o EC2 Instance Connect, é uma das coisas mais legais que surgiram na AWS, na minha experiência como nos últimos anos, no que diz respeito a tornar as coisas mais fáceis de usar, especialmente para um iniciante. Definitivamente, dê uma olhada no EC2 Instance Connect. Se o senhor estiver solucionando algum problema em uma instância do EC2, é uma maneira muito fácil de acessar suas instâncias do EC2 por SSH . - [Raf] Sim. Então, se eu for aqui e digitar aws configure, que é o comando que uso para configurar a linha de comando com credenciais permanentes, o senhor verá que não tenho nenhuma. Em outras palavras, o senhor verá que minha linha de comando não está configurada, certo? Ela não tem credenciais, mas se eu fizer aws s3 ls,
Reproduza o vídeo começando em :40:20 e siga a transcrição40:20
ela funcionará, certo? E ela funciona porque essa instância está associada a uma função que tem permissão para acessar o Amazon S3 e também o DynamoDB, certo? E essa é a função, IAM.
Reproduza o vídeo começando em :40:37 e siga a transcrição40:37
Se eu for ao meu console IAM e clicar em Roles (Funções) bem aqui na barra lateral, o senhor procurará por essa S3DynamoDBFullAccessRole.
Reproduza o vídeo começando em :40:48 e siga a transcrição40:48
As instruções pedem que o senhor crie uma função de acesso total apenas para fins educacionais, apenas para ter esse POC, esse servidor funcionando rapidamente, certo, para que o senhor comece a usar o AWS. Não recomendamos funções muito permissivas para ambientes de produção. Portanto, se o senhor precisar acessar apenas uma tabela específica do DynamoDB e um bucket específico do S3, poderá restringir isso nas permissões da função, certo? E o senhor pode ver que essa permissão de função tem acesso total ao S3 e acesso total ao DynamoDB. Portanto, se o senhor tentar acessar a instância e executar aws ec2 describe-instances - -region us-east-1, isso falhará porque essa função não está autorizada a executar essa ação, certo? Portanto, a menos que seja explicitamente permitido aqui no IAM, ele é negado, como um grupo de segurança. A menos que o senhor vá até lá e abra a porta, ela estará fechada, certo? Portanto, agora uma função pode ser assumida por uma instância do EC2, como o senhor acabou de ver, certo? EC2, mas as funções também podem ser assumidas por usuários IAM. E qual seria a razão para permitir que um usuário assuma uma função? Bem, se você tiver várias contas, digamos que tenha três contas AWS. Uma para desenvolvimento, uma para preparação, onde o senhor e seus analistas de controle de qualidade fazem os testes, e outra conta para produção. Se quiser ter acesso a essas três contas da AWS, opção um, o senhor pode criar um usuário IAM para si mesmo em cada uma dessas contas, o que, por motivos óbvios, não é recomendado porque, se precisar alterar a senha, precisará alterar a senha em três contas. E se agora o senhor quiser ter uma conta por aplicativo que possui, certo? Então, como vê, isso não é bem dimensionado. Portanto, uma boa prática aqui é criar uma conta AWS separada apenas para os usuários, apenas para todos os usuários da sua organização. E em todas as contas AWS subsequentes, você tem funções nessas contas. E na relação de confiança dessas funções, o senhor especificará quais usuários podem assumir as funções. Assim, em vez de ter credenciais permanentes nas outras contas da AWS, o senhor pode simplesmente assumir uma função, certo, para - [Morgan] Outra coisa que é bom observar aqui com isso também é que as funções são compartilhadas. Portanto, não é como se o senhor tivesse que criar, "Oh, isso é", sim, certo. - [Raf] Uma função por usuário. - [Morgan] Não é uma função única [Morgan] Não é uma função por usuário. Eu e o Raf, se fôssemos ambos desenvolvedores da mesma equipe e tivéssemos as mesmas permissões e provavelmente estaríamos assumindo a mesma função. - - [Raf] Sim, e fica com a mesma função [Raf] Sim, e isso fica bem interessante porque essa conta da AWS, em vez de ter muitos usuários aqui, às vezes, o senhor está em um controlador de domínio corporativo, Microsoft Active Directory, e todos os seus usuários já pertencem a um Microsoft Active Directory localmente no seu espaço de trabalho. Então, o que o senhor pode fazer é, em vez de criar todos os usuários nessa conta, pode criar funções nessa conta, certo? E as subcontas também terão as funções, e uma função pode estar na relação de confiança de outra função. E o senhor pode fazer isso, certo? Então, essa é a vantagem de ter funções assumindo outras funções. Se estiver trabalhando com governança e conformidade, e quiser concentrar todos os seus usuários no diretório de usuários atual que você tem como parte de sua organização, poderá fazer isso com algumas ferramentas como o conector de ID e até mesmo o Single Sign On para saltar de uma conta para outra. E é assim que as empresas fazem. É assim que as grandes empresas executam grandes cargas de trabalho na AWS com arquiteturas complexas, várias contas. É assim que elas fazem isso com segurança, certo? Elas não criaram vários IAMs, elas não deveriam pelo menos criar vários usuários IAMs em torno de várias contas da AWS, certo? - [Morgan] Tudo bem, então eu tenho outra pergunta no chat. E eu sei que ela foi respondida no chat, mas eu só quero respondê-la ao vivo. Então, mais alguém tem uma pergunta? - a_walk_in_the_clouds, Gosto do seu - [Morgan] Sim, é um ótimo nome de usuário. - [Raf] Sim. - [Morgan] Então a_walk_in_the_clouds perguntou: "O peering de VPC pode ser feito com uma região ou o peering de VPC é sempre inter-regional?" E a resposta é que o senhor pode fazer isso dentro de uma região. Portanto, o senhor pode ter muitas VPCs em uma conta em uma região, e pode estar usando as VPCs como uma separação de rede entre aplicativos. Mas digamos que o senhor tenha três VPCs em uma conta da AWS, e tenha aplicativos que precisam acessar serviços compartilhados em uma terceira VPC, o senhor ainda pode fazer peering mesmo dentro de uma região. Então, eu só queria responder a essa também. Uma coisa interessante é que o senhor pode fazer peering dentro da região, entre regiões e entre contas. Então, se eu estiver executando, digamos, um cluster de aprendizado de máquina na minha conta e eu quiser permitir que as instâncias privadas do EC2 do Morgan se conectem ao meu cluster para fazer alguma coisa, então eu posso fazer esse peering entre VPCs também. Também posso usar um serviço chamado AWS PrivateLink para isso. Mas é entre regiões, intra-regiões e até entre contas, certo, o emparelhamento VPC. - [Morgan] Sim, e isso também é muito importante, especialmente se o senhor estiver procurando estar em uma posição de arquiteto para a AWS, é que é muito improvável que o senhor tenha apenas uma única conta da AWS.
Reproduza o vídeo começando em :46:2 e siga a transcrição46:02
É muito provável que o senhor tenha muitas contas da AWS para uma organização ou talvez até para uma equipe, dependendo do que estiver fazendo. Portanto, ser capaz de entender onde existem os limites dos serviços e como alcançar as contas ou as regiões é algo que pode ser muito, muito útil. Então, gostaria de abordar algumas outras questões que vi nos fóruns de discussão, e esta está relacionada ao que o Raf acabou de falar. "Como a instância do EC2 no DynamoDB está conectada?" Então, estamos falando, deixe-me sair daqui, dessa instância do EC2. "Como essa instância do EC2 está conectada ao DynamoDB?" Bem, como o Raf acabou de mencionar, são as funções do IAM. Mas, além disso, também vi essa pergunta sobre a tabela do DynamoDB que estamos usando para o aplicativo employee-directory-app que achei muito interessante. Portanto, na tabela do DynamoDB, há essa coluna object_key para o item.
Reproduza o vídeo começando em :47:5 e siga a transcrição47:05
E isso está essencialmente apontando para a imagem S3. Então, deixe-me ir em frente e fazer um pouco de whiteboarding aqui. Então, a forma como a arquitetura funciona é que temos nossa instância EC2,
Reproduza o vídeo começando em :47:11 e siga a transcrição47:11
temos um bucket S3, e isso tem nossas imagens de nossos funcionários. Então, digamos que essa é uma imagem de funcionário lá. E também temos nossa tabela DynamoDB. E com essa tabela DynamoDB, isso tem um item para cada funcionário. Portanto, a instância do EC2 tem esse aplicativo aqui, , e tivemos que permitir acesso total ao DynamoDB e ao S3. A razão disso é porque não estamos armazenando as imagens no DynamoDB. Portanto, não temos imagens aqui, mas, em vez disso, todas as imagens estão armazenadas no S3. Portanto, uma das perguntas aqui é: estamos armazenando a imagem no DynamoDB ou isso é uma referência ao bucket do S3? E a resposta é que armazenamos a imagem no S3, , mas depois armazenamos uma referência a ela no DynamoDB. Portanto, essa referência vincula o item, a entrada do funcionário no DynamoDB à sua imagem no S3. E a razão para isso é que o DynamoDB tem um limite de 400 KB por item.
Reproduza o vídeo começando em :48:23 e siga a transcrição48:23
Então, o senhor realmente não quer armazenar itens grandes ou objetos grandes no DynamoDB. Em vez disso, o mais provável é que o senhor use o DynamoDB como um índice. - [Raf] Um banco de dados. - Sim, como um banco de dados e um índice Sim, como um banco de dados e um índice que faz referência a seus objetos. Então, esse DynamoDB não é um armazenamento de objetos, certo? Se o senhor tiver um objeto associado a dados, ele será armazenado como uma referência e, em seguida, seu código poderá dizer que essa referência aqui está relacionada a essa imagem. Então, eu só queria mencionar isso. E outra coisa que você pode fazer apenas para falar sobre outra arquitetura aqui é se você tiver uma instância EC2, como no nosso aplicativo employee-directory-app. Certo, temos nosso aplicativo aqui, e então você quer armazenar algumas informações no DynamoDB, e então você também tem algumas imagens e S3 como acabamos de fazer. Digamos que você queira excluir uma imagem do S3, certo? Talvez você esteja excluindo um funcionário. Portanto, se quiser excluir um funcionário aqui, , o aplicativo pode ir em frente e chamar DynamoDB, delete, e também pode chamar delete para o S3. E se o aplicativo fizer isso, , então o senhor estará basicamente confiando no código para manter essas duas coisas sincronizadas, certo? Portanto, você depende do desenvolvedor que está escrevendo o código para conhecer e entender o modelo de dados que você tem para que ele saiba de onde excluir as coisas. Essa é uma maneira de fazer isso. Ou, se você quiser que as coisas sejam um pouco mais automáticas, como na atualização ou exclusão, ou principalmente na exclusão, o que você pode fazer é enviar a exclusão aqui e, em seguida, configurar os fluxos do DynamoDB. Portanto, fluxos DDB, e, em seguida, o senhor poderia fazer com que isso acionasse uma função Lambda,
Reproduza o vídeo começando em :50:9 e siga a transcrição50:09
que, então, excluiria o item do S3. Portanto, essa arquitetura faz a mesma coisa, exceto que, em vez de o desenvolvedor ser responsável por isso, aqui, o senhor está criando uma arquitetura para fazer isso automaticamente. Portanto, o benefício disso é essencialmente como se o seu código tivesse um erro na exclusão. Digamos que o senhor tenha tentado excluir o item no DynamoDB e ele tenha lançado algum tipo de exceção e seu código tenha travado. O senhor pode ter a entrada no DynamoDB que não está mais lá, mas a imagem está. Isso pode ser um problema para o senhor. Portanto, com essa solução aqui, o senhor envia uma exclusão e, em seguida, inicia uma série de transações que a excluirão do S3. Assim, isso é um pouco mais tolerante a falhas dessa forma, em que o senhor não está necessariamente confiando no código para fazê-lo, mas isso realmente depende do que o senhor está fazendo sobre que tipo de direção tomaria. Por exemplo, o senhor incorporaria essas instruções ao código ou criaria uma arquitetura que fizesse esse tipo de coisa automaticamente? Também é importante observar que o senhor teria de ter algum código aqui também. Só que o código seria muito simples e muito pequeno. - [Raf] Sim, sobre esse assunto, é importante que o senhor tenha uma visão geral do código [Raf] Sim, sobre esse assunto em que o senhor tem uma função Lambda se conectando ao Amazon S3, há uma pergunta aqui que o CodeWithSean trouxe. Deixe-me trazer a pergunta para a tela aqui. "Tenho dois Lambdas se conectando ao DynamoDB. Um precisa apenas de leitura, o outro precisa de leitura e gravação." E é isso. "Criei duas contas de usuário com chave secreta para os Lambdas se conectarem. Está tudo bem? Existe uma maneira melhor?" - [Morgan] Tudo bem- - [Raf] E sim. Existe uma maneira melhor. Morgan? - [Morgan] Há uma maneira melhor. Sim, então o senhor quer olhar para as funções. Então, deixe-me ir em frente e excluir este e digamos que você tenha duas funções Lambda, uma, duas, e você tem um balde S3 aqui e este precisa ler e este precisa ler, escrever.
Reproduza o vídeo começando em :51:56 e siga a transcrição51:56
O senhor não quer criar usuários IAM para isso, certo? Portanto, os usuários IAM têm credenciais que podem ser usadas para acesso programático para chamar essas APIs usando os SDKs. No entanto, essas chaves não são temporárias. O senhor pode alterná-las, mas elas são permanentes no sentido de que, assim que as cria até desativá-las, o senhor pode usá-las. E o senhor teria de inseri-las no código da função Lambda ou nas variáveis de ambiente ou algo do tipo, o que não é seguro. Portanto, recomendamos não usar usuários do IAM, mas, em vez disso, usar funções do IAM, certo? Então, isso volta à discussão sobre funções. Portanto, essa função Lambda que precisa de acesso de leitura, , teria a função 1, e, em seguida, o IAM ou a função Lambda que precisa de leitura e gravação teria a função 2. Portanto, o senhor teria duas funções IAM separadas, e, na função IAM, , anexaria uma política a essa primeira que diz especificamente qual balde, quais ações seriam necessárias para que o senhor possa ser realmente granular e sugerimos que, se isso for para qualquer coisa além da experimentação em sua própria conta pessoal, que o senhor seja muito específico quanto aos tipos de permissões que concede ao código e às pessoas. Por isso, dizemos que é preciso seguir o "princípio do menor privilégio", em que o senhor dá às pessoas e entidades exatamente o que elas precisam e nada mais. Assim, o senhor incluiria o bucket do S3 aqui e também incluiria a chamada de API, enquanto essa função seria uma função separada que tem um conjunto de permissões totalmente separado. - [Raf] Sim, isso é uma função que pode ser usada para fazer qualquer coisa além de experiências em sua própria conta pessoal [Raf] Sim, e é aqui que o senhor configura tudo isso, que o Morgan acabou de mostrar. Assim, na função Lambda, como esta que tenho aqui, minha segunda função,
Reproduza o vídeo começando em :53:35 e siga a transcrição53:35
se o senhor clicar em Configuration aqui,
Reproduza o vídeo começando em :53:39 e siga a transcrição53:39
clicar em Configuration, depois clicar em Permissions, poderá especificar qual é o nome da função que deseja para essa função. Assim, o senhor criaria duas funções, certo? E associaria cada função a uma função diferente que corresponderia ao diagrama do Morgan ali.
Reproduza o vídeo começando em :53:58 e siga a transcrição53:58
- [Morgan] Tudo bem, então vamos ao que interessa [Morgan] Muito bem, temos outra pergunta aqui.
Reproduza o vídeo começando em :54:3 e siga a transcrição54:03
"O DynamoDB é uma boa opção para um carrinho de compras on-line? Quais são as outras opções de armazenamento para um carrinho de compras?" Eu diria que o DynamoDB é uma ótima opção para isso. O DynamoDB é um par chave-valor. O bom disso é que, por exemplo, se o senhor tiver um carrinho de compras, terá sua sessão de usuário. Portanto, o DynamoDB é um ótimo banco de dados para restaurar sessões de usuário em um local que não seja necessariamente efêmero. Assim, é possível colocá-las em algum lugar onde serão armazenadas, e, em seguida, definir um tempo de vida em que elas expiram após um determinado período de tempo, mas o usuário sabe que estão seguras por esse período de tempo. Comparando isso com o armazenamento da instância, se a instância cair, a sessão do usuário também cairá. Portanto, recomendamos armazenar coisas como essas, informações do carrinho de compras, informações da sessão fora da instância em um banco de dados ou em um cache de algum tipo. O DynamoDB é uma ótima opção para isso porque o senhor pode ter itens que não têm necessariamente os mesmos dados. Assim, como a sessão de uma pessoa, seu carrinho de compras pode não ter a mesma aparência que a sessão de outra pessoa no carrinho de compras no que diz respeito ao esquema. E o senhor pode fazer isso com o DynamoDB com bastante facilidade, mas outra opção que poderia ser usada aqui talvez seja o ElastiCache. Assim, o senhor também poderia ter um cluster do ElastiCache. Depende da frequência com que o senhor usa isso, quanto de uso o senhor tem? E então o senhor pode fazer uma análise de custo. Eu, pessoalmente, prefiro o DynamoDB porque ele não tem servidor, é superfácil de usar, e você pode escalá-lo para cima e para baixo com o uso com bastante facilidade, o que significa que você só paga pelo que consome. Já com o ElastiCache, tenho quase certeza de que é uma taxa por hora. Então, pessoalmente, prefiro o DynamoDB para esse caso. - - [Raf] Sim [Raf] Sim.
Reproduza o vídeo começando em :55:40 e siga a transcrição55:40
Oops. (risos) O Alan acabou de dizer no bate-papo: "Temos um curso no edX e no Coursera que foca no DynamoDB." Então, se o senhor estiver procurando mais informações-
Reproduza o vídeo começando em :55:53 e siga a transcrição55:53
- [Morgan] Sim, na verdade, sou um dos instrutores desse curso também. Há um curso sobre o DynamoDB no Coursera e no edX, e ele começa com os conceitos básicos do que é uma tabela, o que são itens, o que é NoSQL? E então ele progride a partir daí, entrando em índices e secundários locais, índices secundários globais, como provisionar a taxa de transferência, coisas assim. E então, na última semana, ele se aprofunda no design de uma única tabela. Então esse é um curso realmente ótimo para um mergulho profundo no DynamoDB, especialmente se você for do tipo desenvolvedor. Usamos a maior parte da linha de comando nesse curso, mas é ótimo. - - [Raf] Sim, o senhor está certo [Raf] Sim, é sobre esse curso que estamos falando no Coursera e também no edX. Certo, então o senhor pode encontrar informações ali mesmo.
Reproduza o vídeo começando em :56:35 e siga a transcrição56:35
- [Morgan] Tudo bem, acho que estamos chegando ao final, mas vamos ver se temos mais perguntas.
Reproduza o vídeo começando em :56:44 e siga a transcrição56:44
Tudo bem, não sei se temos tempo para responder mais aqui. Raf, tem mais alguma coisa que o senhor queira terminar ? - [Raf] Não, não.
Reproduza o vídeo começando em :56:53 e siga a transcrição56:53
Há uma aqui. "Existe um tutorial para usar o AWS SNS para enviar e-mail em HTML?"
Reproduza o vídeo começando em :57:2 e siga a transcrição57:02
Podemos tentar encontrar algumas referências sobre isso, mas tenho certeza de que - - [Morgan] Os moderadores talvez consigam encontrar algumas coisas aqui. - [Raf] Sim. - O senhor pode tentar encontrar algumas referências sobre isso? [Morgan] Tudo bem, então acho que a última coisa aqui é apenas uma espécie de, o senhor sabe, se estiver atualmente inscrito no curso Cloud Technicial Essentials, por favor, volte, confira, passe por ele. Espero que as coisas sobre as quais falamos hoje tenham lhe dado um pouco de uma compreensão mais profunda. E, se o senhor estiver bloqueado nos laboratórios, espero que algumas das coisas e dicas sobre as quais falamos o desbloqueiem nesses laboratórios. E lembre-se também de que os laboratórios em si não são um bloqueador para o aprendizado das informações, certo? Portanto, se ficar preso em um laboratório, o senhor pode continuar passando por esse laboratório e voltar a ele mais tarde. Portanto, tenha isso em mente. E se o senhor não estiver inscrito no curso, dê uma olhada, pois é um ótimo curso fundamental. Ele é voltado para pessoas com formação técnica. Então, sim, muito obrigado a todos os senhores por participarem. Agradeço muito todas as perguntas e o envolvimento que pudemos ter durante essa última hora. - [Raf] Sim, muito obrigado a todos os senhores por participarem [Raf] Sim, obrigado a todos os senhores... 