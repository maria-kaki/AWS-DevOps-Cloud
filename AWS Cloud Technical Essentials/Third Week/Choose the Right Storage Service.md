Welcome back to everyone's favorite game show, which AWS storage service do I use for my use case? Today we have one contestant during the final round of our show, and that's you. - In order to win the grand prize, you must answer the next three questions correctly. There will also be a bonus question so there's an opportunity to get extra points. All right, once we read the question, you have five seconds to answer to get points. Let's get started.
# __
![[Pasted image 20230706233251.png]]
Let's say you're a developer and you plan to build out an application to transcode large media files like videos. You'll be using an AWS Lambda function to perform the transcoding, but you need a place to store both the original media files and the transcoded media files. Due to regulations, you need to store these files for at least a year. Which of the storage services that we've talked about in this course should you use?
And the answer is Amazon S3. Why is S3 the best solution here, Morgan? - Well, first of all, the question says that they're using a Lambda function. Because of that, I'm already ruling EBS out as EBS volumes can only be attached to EC2 instances. Even if they were using EC2, video files are typically large in size, so you may have to use multiple EBS volumes to store that data which might not be cost effective in the long run. So EBS is out. Instance storage is out for the same reason. We're not using EC2 here but also because we want this data to persist for a year and instance storage is considered ephemeral. - All right, S3 it is. 
# __
![[Pasted image 20230706233445.png]]
Let's put some points on the board for those who got it right. Morgan, tell us the next question. - The next question is, you're an architect for an e-commerce company that wants to run their MySQL database on an EC2 instance. This database needs a storage layer to store their order and customer information. The database will frequently be accessed and updated so the storage layer needs to respond quickly. It's important that the storage is fast and durable. Which AWS storage service should you use?
And the answer is Amazon EBS. Add 30 points to your score if you got it. - It seems like we're looking for storage attached to the compute, so why not EC2 instance store? - Right, that's also an option but it's not ideal. Since it's an e-commerce company, their order and customer data is what drives the business which means the persistence and durability of that data is really important. Using EC2 instance store would definitely give us the speed we're looking for but it wouldn't give us the durability needed to store this data long term. So EBS is the right option. - That makes sense. All right, moving on. Two more questions. 
# __
![[Pasted image 20230706233609.png]]
The next one is you have a web application that needs to write to disk in order to perform certain calculations. The application will store temporary data during the calculation. The most important aspects of this architecture are speed and cost. Which storage solution would you choose?
And the answer is EC2 instance store. - Seph, would you mind telling us how we chose instance store and not EBS? - Sure. Once again, we're looking for storage attached to compute in this case. The first thing I want to point out is that this is temporary data we're talking about. We're not looking at a huge amount of data and we also don't necessarily care about the durability of that data. 
![[Pasted image 20230706233725.png]]
If the instance fails mid calculation and you want to plan for failure, you can just restart the calculation from scratch. So durability doesn't matter, but cost does. By not using EBS and instead using instance store, you may save yourself some costs. That is because instance store is included in the overall EC2 instance price. So instance store is the best option for this use case. - Okay, 30 more points on the board for those of you who got it. Now the final bonus question for an extra 10 points is next. 
# __
![[Pasted image 20230706233817.png]]
This is a tricky one, and you might have to think outside of the storage options that we've talked about so far. The question is, let's say you're creating a WordPress site on multiple instances. By default, WordPress stores user uploads on the local file system. Since you want to use multiple instances, you'll need to move the WordPress installation and all of the user customizations into a shared storage platform. Which storage option would you use?
And the answer is Amazon Elastic File System or Amazon EFS. This service was covered in an earlier reading so if you got points for this, great job. For those of you who didn't, no worries but I would recommend that you go back and review the reading related to file storage on AWS. - Let's go ahead and talk about the options. Typically, when we talk about shared storage systems that multiple instances can access, we think Amazon S3. why wouldn't we use that in this case? - Well, S3 isn't a file system. It's actually a flat structure for storing objects instead of a hierarchy. And you can't mount it onto multiple instances. Because S3 has a different underlying type of storage, it's not right for this use case. 
# __
So by moving the entire WordPress installation directory onto an EFS file system and mounting it onto each of your EC2 instances when they boot, your WordPress site and all of its data is automatically stored on a distributed file system that isn't dependent on any one EC2 instance. - Nice. Well, you answered all four questions and you win the grand prize of, the satisfaction of getting them all right. Congratulations and that's it for today's show.
# __