![[index (2) 1.mp4]]
Hello, and welcome back. Usually, writing the code is the first thing we think about when doing software development. When you join a project, no matter if it is a brand-new one or something running for a while, the goal is usually the same. Project managers want to add features to the code. And developers want to get those features in front of users, in a quick, secure, and reliable way. With his goal in mind, there are usually four frequently asked questions, which are: Where is the code? Where should I be committing updates? How often should I be committing and integrating? And when do changes get deployed for end users? These questions that are up to the team to come with conventions to answer. So, the answers vary case by case, depending on their needs. I say that, ultimately, because your requirements or your team's culture may be different. As part of this course, we will take one approach to answer them, which could give you ideas and best practices in order to figure out the answers in your own scenario. But remember, ultimately, it's up to you to answer them according to your needs. Allow me to take each question at a time, starting with the first one: Where is the code? If you're working as a team, and want to integrate your changes to a code repository and have those changes available to other team members, AWS CodeCommit is an AWS managed service that can be a good choice. CodeCommit is a managed source control service that hosts private Git repositories, where all of the standard Git functionalities are supported. So, if you're familiar with Git repositories, you will also be familiar with AWS CodeCommit. Once the repository is created in AWS CodeCommit, you can do a git clone and get the code into your dev environment. From now on, you can securely interact with the repository hosted in CodeCommit, with the benefit of being able to use an AWS credential to authenticate and interact with the codebase in an encrypted way.
# __
Now, the second question: Where should I be committing my code updates? When working as part of a team, eventually, multiple people will work on features that may require a change in the same files. The most common approach for this is to decide on a branching strategy. You can send those commits to a feature branch. When the changes are ready, you can integrate them by doing a merge with the main branch, where code can be evaluated and tested with automated tools. We will talk more about branching strategies later. But working with branches raises another question, which is: How often should I be committing and integrating? Well, there are some big advantages on deploying code regularly. When you push things to CodeCommit, it gets stored in the AWS Cloud, which has good durability levels. And because it is durable, if your laptop gets damaged or lost in the taxi, your work is saved. Now, the fourth question: When do changes get deployed and put in front of end users? As you can expect, the answer is also regularly. The more frequently we integrate code, the sooner bugs can be identified by the testers. When things get deployed to test environments more frequently, testers can quickly validate if the code is behaving according to what is expected. If a feature has to wait for weeks to be deployed, we could potentially deliver something that is outdated on day one. For many businesses, quickly deploying new features is very important. And having automation in the continuous integration pipeline is key for that to happen, as you will see in this course. Russ will now demonstrate how easy it is to start with AWS CodeCommit. - [Russ] Let's take a look at CodeCommit in the console. I have navigated over to CodeCommit. I can click Create repository, and give my new repository a name. (typing)
# __
Now, I want to clone this empty repo on my laptop. How does authentication and access control work here? When authenticating my IAM user to CodeCommit, I have three options. I can ask IAM to generate Git credentials for my IAM user. The generated credentials can be used like a user name and password, when you access your repository over smart HTTPS Git protocol. IAM can also associate an SSH public key with your IAM user. When you authenticate using this, you use the private portion of your key when we're using Git SSH protocols. Lastly, CodeCommit supports signed credentials for authentication. This is made very easy, if you use the CodeCommit remote helper. I have the remote helper installed on my laptop. So, I can clone from a URL with a CodeCommit prefix. (typing)
# __
That has cloned. This is using exactly the same identity that my AWS CLI is configured with. I can also build a URL that contains a Region or a reference to a CLI profile using this format. For access control at AWS, we love our IAM policies. CodeCommit enforces the access control of the policy attached to your IAM identity. This is how we could create a policy that allow us an identity to push to a feature branch, but not to merge to a main branch, for example. I can interact with this repository, exactly how I would always work with Git. (typing) Let's create a main branch. (typing) And now, I want to create a readme file.
I can add this file to the Git index. And create a commit. (typing) And finally, push the commit. Returning to the console and viewing the code again, we now see the code in the repository. If I click Commits, I see the commit I created just a few seconds ago. I can now sleep a little bit better at night, knowing that my code is being securely and durably stored using AWS infrastructure.
# __