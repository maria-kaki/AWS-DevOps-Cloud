For this exercise, imagine you have a running application, with issues, in production. The issue is that the app has missing images and users are getting 404 errors. The phone starts ringing, the pagers start beeping, and everybody is reporting the issue. Whenever that happens, the most convenient thing to do is to access the production servers, to take a look into the log files. But is this a good practice? Probably not. As a security best practice, the governance team has locked off the instances from any terminal access, and the servers don't even have SSH enabled. Since no arbitrary commands can be run on these servers, we need to make sure we have exhausted our options. The first option is, can we debug the very same issue on a dev environment? In the lab scenario, unfortunately not. Because this is not an issue happening in the dev environment. So, it is something particular to the prod environment.
# __
If we can't SSH into the servers, and this is not happening in the dev environment, how about having the logs shipped to CloudWatch Logs with the help of CloudWatch agents? Absolutely, planning to use CloudWatch for that is awesome. But in order for that to work, it must already be installed and configured, which unfortunately, it's not the case here. All right, so we have a prod issue, and we need to move quickly to investigate. Let's explore another alternative. In that scenario, the best thing to do is to securely run a command on the servers by using AWS Systems Manager Run Command. That would satisfy the requirements of getting data from production servers without accessing them via SSH, per se. Do we have a plan? I think, yes. So, go ahead and start the exercise where you will deploy a CloudFormation template, and use AWS Systems Manager Run Command to troubleshoot potential production issues.